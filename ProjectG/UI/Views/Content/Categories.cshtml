@model IEnumerable<UI.Models.Categories.CategoryViewModel>

@{
  ViewBag.Title = "Categories";
}

<div class="content-wrapper js-content-wrapper content-wrapper-advance" ng-controller="CategoriesController">
  <div class="content-container">
    <div class="content">
      <div>
        <form class="form-horizontal">
          <div class="form-group">
            <div class="col-md-4">
              <label for="newValue" class="col-md-4 form__label" style="text-align:left">Новая категория</label>
              <input type="text" name="newValue" value="" ng-model="newCategory" class="form-control" />
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-4">
              <label for="newParentId" class="col-md-4 form__label" style="text-align:left">Номер родительской категории</label>
              <input type="text" name="newParentId" value="" ng-model="newParentId" class="form-control" />
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-offset-3 col-md-4">
              <button type="button" class="ui-button ui-corner-all ui-widget" ng-click="addCategory()">Create</button>
            </div>
          </div>
        </form>
        <table class="table">
          <tr>
            <th>
              @Html.DisplayNameFor(model => model.Id)
            </th>
            <th>
              @Html.DisplayNameFor(model => model.ParentId)
            </th>
            <th>
              @Html.DisplayNameFor(model => model.Name)
            </th>
            <th></th>
            <th></th>
          </tr>
          <tr ng-repeat="cat in categories">
            <td>{{cat.Id}}</td>
            <td><input type="text" value="" ng-model="cat.ParentId" /></td>
            <td><input type="text" value="" ng-model="cat.Name" /></td>
            <td><button type="button" class="ui-button ui-corner-all ui-widget" ng-click="updateCategory($index, cat)" id="updateButton-{{cat.Id}}">Обновить</button></td>
            <td>
              <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="removeCategory($index, cat)" id="removeButton-{{cat.Id}}">
                <span aria-hidden="true">&times;</span>
              </button>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>